<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Import leaflet library and its accessorys-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Leaflet.Draw CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.css" />
    <!-- Leaflet.Draw JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.js"></script>
    <!-- Import Turf.js, a javascript library for doing advanced geospatial analysis-->
    <script src="https://unpkg.com/@turf/turf@6.3.0/turf.min.js"></script>
    <script src="ABYSS.js"></script>
    <script src="ARGODAS.js"></script>
    <script src="BREST1.js"></script>
    <script src="BRGM.js"></script>
    <script src="DASARA_12.js"></script>
    <script src="FibresGrenoble.js"></script>
    <script src="FOCUS.js"></script>
    <script src="Grenoble_champs-captants.js"></script>
    <script src="HCMR.js"></script>
    <script src="LETEIL.js"></script>
    <script src="IPGP.js"></script>
    <script src="MEUST.js"></script>
    <script src="MNCA.js"></script>
    <script src="MONACO.js"></script>
    <script src="NESTOR.js"></script>
    <script src="STRASBOURG.js"></script>
    <style>
        #map {
            height: 100vh;
            width: 100%;
        }
    </style>




    <title>French Fiber Group</title>
</head>

<body>
    <div id="map">

    </div>


    <script>
        //var map = L.map('map').setView([45.763420, 4.834277], 14);
        let map = L.map("map", { center: [46.2276, 2.2137], zoom: 1 });        // OSM layer
        var osm = L.tileLayer('https://api.maptiler.com/maps/satellite/256/{z}/{x}/{y}.jpg?key=2Ioi0rNgt67Fd1GyQuM7', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        });
        osm.addTo(map);
        var OpenTopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
        maxZoom: 17,
        attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
    });
    var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
    });
    var Esri_WorldShadedRelief = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles &copy; Esri &mdash; Source: Esri',
        maxZoom: 13
    });
    var MtbMap = L.tileLayer('http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'
    });

    // Leaflet Layer Control
    var baseMaps = {
        'Open Street Map': osm,
        'Open Topo Map': OpenTopoMap,
        'Esri World Imagery': Esri_WorldImagery,
        'Esri World Shaded Relief': Esri_WorldShadedRelief,
        'Mtb Map': MtbMap
    }
    L.control.layers(baseMaps).addTo(map)


    // add a scale bar
    L.control.scale({
        metric: true,
        imperial: true,
        maxWidth: 100,
        position: 'bottomleft'
    }).addTo(map);
    // bring the zoom tool to the right hand of the map
    L.control.zoom({ position: 'topright' }).addTo(map);
    // Add the capability of measuring distance of two points
    var drawControl = new L.Control.Draw({
        position: 'topright' // Or any other position
    });
    // Add the custom class to the control container
    map.addControl(drawControl);
    // sticking them to the map
    var drawnFeatures = new L.FeatureGroup();
    map.addLayer(drawnFeatures);
    map.on("draw:created", function (e) {
        var type = e.layerType;
        var layer = e.layer;
        drawnFeatures.addLayer(layer);
    })

    //click on me
    var popup = L.popup();

    function onMapClick(e) {
        popup
            .setLatLng(e.latlng)
            .setContent("You clicked the map at " + e.latlng.toString())
            .openOn(map);
    }

    map.on('click', onMapClick);




    function lineStyle(feature) {
    return {
        color: "red",  // Change the color to your desired color
        weight: 4,       // Change the line width (weight) to your desired value
    };
    }
    // overlay the fiber routes
    var STRASBOURG = L.geoJSON(STRASBOURG, { style: lineStyle, }).addTo(map);
    
    var BRGM = L.geoJSON(BRGM, { style: lineStyle, }).addTo(map)

    var FOCUS = L.geoJSON(FOCUS, { style: lineStyle, }).addTo(map)
    var BREST1 = L.geoJSON(BREST1, { style: lineStyle, }).addTo(map)   
    
    var LETEIL = L.geoJSON(LETEIL, { style: lineStyle, }).addTo(map)   
    var MEUST = L.geoJSON(MEUST, { style: lineStyle, }).addTo(map)   
    var MNCA = L.geoJSON(MNCA, { style: lineStyle, }).addTo(map)
    var HCMR = L.geoJSON(HCMR, { style: lineStyle, }).addTo(map)   
    var NESTOR = L.geoJSON(NESTOR, { style: lineStyle, }).addTo(map)
    var MONACO = L.geoJSON(MONACO, { style: lineStyle, }).addTo(map)   
    var ABYSS = L.geoJSON(ABYSS, { style: lineStyle, }).addTo(map)   

    var GREFIB = L.geoJSON(GREFIB, { style: lineStyle, }).addTo(map)   
    var GRECHA = L.geoJSON(GRECHA, { style: lineStyle, }).addTo(map)   
    var ARGODAS = L.geoJSON(ARGODAS, { style: lineStyle, }).addTo(map)
    
    //Overlay dasara1,dasara2,aprr
    var DASARA_12 = L.geoJSON(DASARA_12, { style: lineStyle, }).addTo(map)

    var IPGP = L.geoJSON(IPGP, { style: lineStyle, }).addTo(map)
    
    
    // Let's define the markers

    var marker_strasbourg = L.marker([48.58020219318517, 7.763025672959176]).addTo(map);
    marker_strasbourg.bindPopup("STRASBOURG").openPopup();

    var marker_brgm = L.marker([47.926509, 1.906364]).addTo(map);
    marker_brgm.bindPopup("BRGM").openPopup();

    var marker_focus = L.marker([37.499737174000074,15.383913237000058]).addTo(map);
    marker_focus.bindPopup("FOCUS").openPopup();

    var marker_guadeloupe = L.marker([16.038297, -61.565259]).addTo(map);
    marker_guadeloupe.bindPopup("GUADELOUPE").openPopup();

    var marker_leteil = L.marker([44.56149088131826,4.598153204620957]).addTo(map);
    marker_leteil.bindPopup("Le TEIL").openPopup();       
    var marker_meust = L.marker([43.0769869255,5.89425748639]).addTo(map);
    marker_meust.bindPopup("LSPM").openPopup();  
    var marker_mnca = L.marker([43.7023977154677,7.28094142989036]).addTo(map);
    marker_mnca.bindPopup("MNCA").openPopup();
    var marker_hcmr = L.marker([36.817277, 21.70715]).addTo(map);
    marker_hcmr.bindPopup("HCMR").openPopup();  
    var marker_nestor = L.marker([36.81696498127454,21.70747259099767]).addTo(map);
    marker_nestor.bindPopup("NESTOR").openPopup();   
    var marker_monaco = L.marker([43.73534029420677,7.41641740049513]).addTo(map);
    marker_monaco.bindPopup("MONACO").openPopup();
    var marker_abyss1 = L.marker([-29.88803932700965,-71.24961473381573]).addTo(map);
    marker_abyss1.bindPopup("ABYSS1").openPopup();
    var marker_abyss2 = L.marker([-32.932623, -71.488037]).addTo(map);
    marker_abyss2.bindPopup("ABYSS2").openPopup();
    
    var marker_grefib = L.marker([45.19752, 5.772133]).addTo(map);
    marker_grefib.bindPopup("GRENOBLE").openPopup();
    var marker_grefib2 = L.marker([45.130651, 5.916604]).addTo(map);
    marker_grefib2.bindPopup("GRENOBLE").openPopup();
    var marker_grefib3 = L.marker([45.408966, 6.348209]).addTo(map);
    marker_grefib3.bindPopup("GRENOBLE").openPopup();
    var marker_grefib4 = L.marker([45.852119, 6.837616]).addTo(map);
    marker_grefib4.bindPopup("GRENOBLE").openPopup();
    var marker_grefib5 = L.marker([45.950158, 6.991231]).addTo(map);
    marker_grefib5.bindPopup("GRENOBLE").openPopup();
    var marker_grefib6 = L.marker([45.856446, 6.820439]).addTo(map);
    marker_grefib6.bindPopup("GRENOBLE").openPopup();
    var marker_grefib7 = L.marker([38.163642, 20.504466]).addTo(map);
    marker_grefib7.bindPopup("ARGOSTOLION").openPopup();
    var marker_grecha = L.marker([45.8007867998862,4.89680819872097]).addTo(map);
    marker_grecha.bindPopup("CHAMP CAPTANT").openPopup();

    var marker_dasara1 = L.marker([45.805556, 4.771162]).addTo(map);
    marker_dasara1.bindPopup("DASARA1").openPopup();
    var marker_dasara2 = L.marker([45.757173, 4.849587]).addTo(map);
    marker_dasara2.bindPopup("DASARA2").openPopup();
            
    // Let's define the style of the LineString on the map

    var marker_ipgp = L.marker([38.799319, 15.230425]).addTo(map);
    marker_ipgp.bindPopup("IPGP").openPopup();

    </script>
</body>

</html>
