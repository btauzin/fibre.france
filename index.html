<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Import leaflet library and its accessorys-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Leaflet.Draw CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.css" />
    <!-- Leaflet.Draw JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.js"></script>
    <!-- Import Turf.js, a javascript library for doing advanced geospatial analysis-->
    <script src="https://unpkg.com/@turf/turf@6.3.0/turf.min.js"></script>
    <script src="ABYSS.js"></script>
    <script src="FOCUS.js"></script>
    <script src="LETEIL.js"></script>
    <script src="MEUST.js"></script>
    <script src="MNCA.js"></script>
    <script src="MONACO.js"></script>
    <script src="NESTRO.js"></script>
    <script src="STRASBURG.js"></script>
    <style>
        #map {
            height: 100vh;
            width: 100%;
        }
    </style>




    <title>FFG</title>
</head>

<body>
    <div id="map">

    </div>


    <script>
        //var map = L.map('map').setView([45.763420, 4.834277], 14);
        let map = L.map("map", { center: [46.2276, 2.2137], zoom: 1 });        // OSM layer
        var osm = L.tileLayer('https://api.maptiler.com/maps/satellite/256/{z}/{x}/{y}.jpg?key=2Ioi0rNgt67Fd1GyQuM7', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        });
        osm.addTo(map);
        var OpenTopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
        maxZoom: 17,
        attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
    });
    var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
    });
    var Esri_WorldShadedRelief = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles &copy; Esri &mdash; Source: Esri',
        maxZoom: 13
    });
    var MtbMap = L.tileLayer('http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'
    });

    // Leaflet Layer Control
    var baseMaps = {
        'Open Street Map': osm,
        'Open Topo Map': OpenTopoMap,
        'Esri World Imagery': Esri_WorldImagery,
        'Esri World Shaded Relief': Esri_WorldShadedRelief,
        'Mtb Map': MtbMap
    }
    L.control.layers(baseMaps).addTo(map)


    // add a scale bar
    L.control.scale({
        metric: true,
        imperial: true,
        maxWidth: 100,
        position: 'bottomleft'
    }).addTo(map);
    // bring the zoom tool to the right hand of the map
    L.control.zoom({ position: 'topright' }).addTo(map);
    // Add the capability of measuring distance of two points
    var drawControl = new L.Control.Draw({
        position: 'topright' // Or any other position
    });
    // Add the custom class to the control container
    map.addControl(drawControl);
    // sticking them to the map
    var drawnFeatures = new L.FeatureGroup();
    map.addLayer(drawnFeatures);
    map.on("draw:created", function (e) {
        var type = e.layerType;
        var layer = e.layer;
        drawnFeatures.addLayer(layer);
    })

    //click on me
    var popup = L.popup();

    function onMapClick(e) {
        popup
            .setLatLng(e.latlng)
            .setContent("You clicked the map at " + e.latlng.toString())
            .openOn(map);
    }

    map.on('click', onMapClick);




    function lineStyle(feature) {
    return {
        color: "red",  // Change the color to your desired color
        weight: 4,       // Change the line width (weight) to your desired value
    };
    }
    // overlay the fiber routes
    var STARSBURG = L.geoJSON(STRASBURG, { style: lineStyle, }).addTo(map);
    var MONACO = L.geoJSON(MONACO, { style: lineStyle, }).addTo(map)   
    var ABYSS = L.geoJSON(ABYSS, { style: lineStyle, }).addTo(map)   
    var FOCUS = L.geoJSON(FOCUS, { style: lineStyle, }).addTo(map)   
    var LETEIL = L.geoJSON(LETEIL, { style: lineStyle, }).addTo(map)   
    var MEUST = L.geoJSON(MEUST, { style: lineStyle, }).addTo(map)   
    var MNCA = L.geoJSON(MNCA, { style: lineStyle, }).addTo(map)   
    var NESTRO = L.geoJSON(NESTRO, { style: lineStyle, }).addTo(map)   

    // Let's define the markers

    var marker_strasburg = L.marker([48.58020219318517, 7.763025672959176]).addTo(map);
    marker_strasburg.bindPopup("Strasbourg").openPopup();
    var marker_monaco = L.marker([43.73534029420677,7.41641740049513]).addTo(map);
    marker_monaco.bindPopup("Monaco").openPopup();
    var marker_abyss = L.marker([-29.88803932700965,-71.24961473381573]).addTo(map);
    marker_abyss.bindPopup("ABYSS").openPopup();
    var marker_focus = L.marker([37.499737174000074,15.383913237000058]).addTo(map);
    marker_focus.bindPopup("FOCUS").openPopup();
    var marker_leteil = L.marker([44.56149088131826,4.598153204620957]).addTo(map);
    marker_leteil.bindPopup("Le TEIL").openPopup();       
    var marker_meust = L.marker([43.0769869255,5.89425748639]).addTo(map);
    marker_meust.bindPopup("MEUST").openPopup();  
    var marker_mnca = L.marker([43.7023977154677,7.28094142989036]).addTo(map);
    marker_mnca.bindPopup("MNCA").openPopup();  
    var marker_nestro = L.marker([36.81696498127454,21.70747259099767]).addTo(map);
    marker_nestro.bindPopup("NESTRO").openPopup();           
    // Let's define the style of the LineString on the map


    </script>
</body>

</html>
